# CLAUDE.md

## 調査作業のルール

調査・原因分析を行う際は、以下を厳守すること：

### 網羅的な調査

- 関連するすべての実装を隈なく調べ尽くすこと
- 呼び出し元・呼び出し先の両方向を追跡する
- 同名関数や型のシャドーイング、オーバーライドを見逃さない
- 設定ファイル、環境変数、ビルドスクリプトなど間接的な影響源も確認する
- 「おそらくこうだろう」で調査を打ち切らない。実際のコードで裏付けを取る

### 処理ロジックの完全追跡

- 原因が見つかっても、そこで調査を止めない
- 処理の流れを最後まで追いかけて全体を理解する
- 多段の原因（根本原因 → 中間原因 → 直接原因）を見破る
- 表面的な原因の裏に隠れた真の根本原因を特定する
- データの変換・伝搬経路を端から端まで追跡する

### 調査結果の報告

- 処理フロー全体を示し、どの段階で問題が発生しているか明確にする
- 根本原因と表面的な症状を区別して報告する
- 関連する他の潜在的問題も併せて報告する
